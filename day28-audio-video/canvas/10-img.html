<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>画布保存为图片</title>
  </head>
  <body>

  

    <!--不要使用css控制width，height  -->
    <canvas id="canvas">你的浏览器不支持canvas</canvas>

    <script type="text/javascript">
      var can = document.getElementById("canvas");
      can.width = 600;
      can.height = 600;
      can.style.border = "1px solid red";


      //获得画布上下文对象
      var ctx = can.getContext('2d');
      var img = new Image();
      var x = 0;

      // setInterval(function(){
      //   can.width = can.width;//擦除画布内容
      //
      //   ctx.fillStyle = "red";
      //   ctx.fillRect(x, 20, 50,50);
      //   x += 5;
      //   x = x >= 500 ? 0 : x;
      //   //将画布保存为图片
      //   img.src = can.toDataURL("image/png", 1);
      //   document.body.appendChild(img);
      // },100);

         ctx.fillStyle = "red";
         ctx.fillRect(0, 20, 50,50);

         img.src = can.toDataURL("image/png", 1);
         document.body.appendChild(img);

         console.log(img.src);
      </script>
  </body>
</html>
